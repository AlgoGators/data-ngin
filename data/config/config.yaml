# Global components configuration
loader:
  class: "CSVLoader"
  module: "csv_loader"
  file_path: "/opt/airflow/data_engine/contracts/contract_valid.csv" # Change to contracts/contract_valid.csv if running locally

inserter:
  class: "TimescaleDBInserter"
  module: "timescaledb_inserter"

fetcher:
  class: "DatabentoFetcher"
  module: "databento_fetcher"

cleaner:
  class: "DatabentoCleaner"
  module: "databento_cleaner"

# Data provider configuration
provider:
  name: "databento"
  asset: "FUTURE"                   # FUTURE, EQUITY, OPTION
  dataset: "GLBX.MDP3"              
  schema: "OHLCV_1D"
  roll_type: "c"                    # Calendar = c, Open Interest = n, Volume = v
  contract_type: "0"                # AKA Rank: 0 = front, 1 = second, 2 = third, etc.

# Database configuration
database:
  target_schema: "futures_data"           
  table: "ohlcv_1d"

# Time range for data fetching YYYY-MM-DD (Leave empty to fetch missing data)
time_range:
  start_date: ""                
  end_date: ""

# Options to handle missing data
missing_data:
  forward_fill: "False"
  backward_fill: "False"            
  interpolate: "False"
  drop_nan: "False"
  zero_fill: "True"
  mean_fill: "False"
  median_fill: "False"
  custom_fill: "False"
  custom_value: "0"

# Logging options
logging:
  level: "INFO"                           
